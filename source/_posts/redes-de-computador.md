---
uuid: 103eecf0-e43e-11f0-8238-5b0c932cb9b6
title: redes_de_computador
date: 2025-12-28 23:39:25
tags:
---

# IEEE 802.2是**逻辑链路控制(LLC, Logical Link Control)标准**。

## 简单理解：

- **位置**：在OSI模型的数据链路层上半部分
- **作用**：提供数据链路层和网络层之间的接口
- **功能**：
  - 管理不同网络层协议(如IP、IPX)的数据帧
  - 提供流量控制和错误检测
  - 让上层协议能在不同的局域网(以太网、令牌环等)上统一工作

## 一句话总结：
802.2就是让各种局域网技术能用统一方式与上层协议通信的"翻译层"。

# IEEE 802.3是**以太网(Ethernet)标准**。

## 简单理解：

- **位置**：数据链路层的下半部分(MAC层)和物理层
- **作用**：定义有线以太网的工作方式
- **功能**：
  - 规定网线类型(双绞线、光纤等)
  - 定义传输速度(10M、100M、1G、10G等)
  - 规定数据帧格式
  - 定义冲突检测机制(CSMA/CD)

## 常见版本：
- **802.3** - 10Mbps 以太网
- **802.3u** - 100Mbps 快速以太网
- **802.3ab** - 1000Mbps 千兆以太网
- **802.3ae** - 10Gbps 万兆以太网

## 一句话总结：
802.3就是我们日常用的**有线网络标准**，规定了网线怎么连、数据怎么传。

# Fibra optica multimodo de indice gradual 

这是**渐变折射率多模光纤**（Graded-Index Multimode Fiber）。

## 简单理解：

**多模光纤(Multimode)**：
- 光纤芯径较粗，光可以多条路径传输

**渐变折射率(Índice gradual)**：
- 光纤中心折射率最高，向边缘逐渐降低
- 形成抛物线型的折射率分布

## 优点：
- 光线走曲线路径，不同路径的光几乎同时到达
- 减少**模式色散**（不同路径光的时间差）
- 比阶跃折射率光纤传输距离更远、速度更快

## 对比：
- **阶跃型多模**：折射率突变，光走折线，色散大
- **渐变型多模**：折射率渐变，光走曲线，色散小
- **单模光纤**：芯径极细，只有一条路径，距离最远

## 一句话总结：
通过让光纤中心到边缘的折射率**逐渐变化**，使不同路径的光几乎同时到达，提高传输性能的多模光纤。

# slow-start

**Slow Start（慢启动）**是TCP拥塞控制的一种机制。

## 简单理解：

刚开始传输数据时，**不知道网络能承受多大流量**，所以：
- 从很小的发送量开始
- 然后**指数增长**
- 直到达到阈值或发生拥塞

## 工作过程：

1. **初始**：拥塞窗口(cwnd) = 1个MSS（最大报文段）
2. **增长**：每收到一个ACK，cwnd翻倍
   - 1 → 2 → 4 → 8 → 16...
3. **结束条件**：
   - 达到慢启动阈值(ssthresh)
   - 或者发生丢包/超时

## 为什么叫"慢启动"？

虽然是指数增长，但相比"一开始就全速发送"，这已经算**慢**了。

## 一句话总结：
TCP刚建立连接时，从小流量开始**试探性地指数增长**，避免一下子把网络搞瘫痪的机制。

# Protocolo de parada y espera

**协议de parada y espera（停止等待协议 / Stop-and-Wait Protocol）**

## 简单理解：

发送方发一个数据包后，**必须等待**接收方的确认(ACK)，才能发送下一个包。

## 工作流程：

1. 发送方：发送数据包1
2. **等待...**
3. 接收方：收到后发送ACK
4. 发送方：收到ACK后，发送数据包2
5. **等待...**
6. 循环...

## 特点：

**优点：**
- 简单
- 可靠（每个包都确认）

**缺点：**
- **效率极低**！
- 信道利用率差（大部分时间在等待）
- 不适合高延迟网络

## 改进版本：

- **滑动窗口协议**：可以连续发送多个包，不用每个都等
- **流水线协议**：Go-Back-N, 选择重传

## 一句话总结：

发一个包就**停下来等确认**，确认到了再发下一个的低效但简单的传输协议。

# Circuito virtual

**Circuitos Virtuales（虚电路 / Virtual Circuits）**

## 简单理解：

在**分组交换网络**中，模拟**电路交换**的连接方式。通信前先建立一条"虚拟的专用通道"，所有数据包都走这条路径。

## 工作过程：

1. **建立连接**：通信前先建立虚电路
2. **数据传输**：所有分组沿着同一路径传输
3. **释放连接**：通信结束后拆除虚电路

## 特点：

✅ **有连接**（面向连接）
✅ 所有分组**按序到达**
✅ 每个分组只需要携带**虚电路号**（不需要完整地址）
✅ 路由在建立时确定

## 两种类型：

1. **SVC** (Switched Virtual Circuit) - 交换虚电路：临时建立
2. **PVC** (Permanent Virtual Circuit) - 永久虚电路：预先配置好

## 对比数据报：

| 虚电路 | 数据报 |
|--------|--------|
| 有连接 | 无连接 |
| 同一路径 | 每个包独立选路 |
| 按序到达 | 可能乱序 |

## 典型应用：

- ATM网络
- Frame Relay
- X.25

## 一句话总结：

通信前先建立一条**虚拟专线**，所有数据包都走这条路的分组交换方式。

# Comunicacion de paquetes con datagrama 
**Conmutación de paquetes con datagramas（数据报分组交换 / Datagram Packet Switching）**

## 简单理解：

每个数据包**独立发送**，**独立选路**，就像寄信一样，每封信独立投递，可能走不同路线。

## 工作方式：

1. **无需建立连接**：直接发送
2. 每个分组**独立路由**
3. 每个分组携带**完整的目的地址**
4. 可能**乱序到达**
5. 到达后需要**重新排序**

## 特点：

✅ **无连接**（connectionless）
✅ 灵活，路由器故障时可自动绕路
✅ 每个分组独立处理
❌ 可能乱序
❌ 每个分组需要完整地址（开销大）

## 对比虚电路：

| 数据报 | 虚电路 |
|--------|--------|
| **无连接** | 有连接 |
| **独立选路** | 固定路径 |
| **可能乱序** | 按序到达 |
| **灵活** | 建立连接有开销 |
| 完整地址 | 只需虚电路号 |

## 典型例子：

- **IP协议**（Internet）
- UDP

## 类比：

**数据报** = 寄普通信（每封独立投递）
**虚电路** = 打电话（先建立连接）

## 一句话总结：

每个数据包**独立发送、独立选路**，无需提前建立连接的灵活分组交换方式。

# Redes de petri

**Redes de Petri (Petri Nets / 佩特里网)**

## 简单理解：

一种用**图形化方式**描述和分析**并发系统**、**异步事件**和**分布式系统**的数学模型。

## 基本组成：

### 4个元素：

1. **Places (库所)** ⭕ - 圆圈，表示状态/条件
2. **Transitions (变迁)** ▭ - 矩形/竖线，表示事件/动作
3. **Arcs (弧)** → - 箭头，连接库所和变迁
4. **Tokens (令牌)** ● - 黑点，表示资源/状态

## 工作原理：

```
    ●
   (P1) → [T1] → (P2)
   
令牌从P1移动到P2，通过触发变迁T1
```

### 触发规则：
- 变迁的**所有输入库所**都有令牌 → 变迁可以**触发**
- 触发后：从输入库所**移除**令牌，向输出库所**添加**令牌

## 简单例子（生产者-消费者）：

```
  [生产] → (缓冲区) → [消费]
              ●●●
```

## 用途：

✅ **建模并发系统**
✅ 分析**死锁**
✅ 验证**协议**正确性
✅ 模拟**工作流**
✅ 设计**通信协议**

## 能分析什么：

- 可达性（能否到达某状态）
- 活性（系统会不会死锁）
- 有界性（资源是否有限）
- 公平性

## 应用领域：

- 网络协议设计
- 操作系统（进程同步）
- 制造系统
- 工作流管理
- 分布式系统

## 一句话总结：

用**圆圈、方块、箭头和令牌**来图形化建模和分析**并发、异步系统**行为的数学工具。

# Protocolo de ventana deslizante

**Protocolo de Ventana Deslizante (Sliding Window Protocol / 滑动窗口协议)**

## 简单理解：

发送方可以**连续发送多个数据包**，不用等每个包的确认，但**有数量限制**（窗口大小）。

## 核心概念：

**窗口** = 允许同时发送但**未确认**的数据包数量

```
发送方窗口（大小=4）：
[已确认] | [1][2][3][4] | [等待发送]
           ↑___窗口___↑
```

## 工作原理：

### 1. **发送过程：**
```
时刻1: 发送 [1][2][3][4]  ← 窗口满了，等待
时刻2: 收到ACK(1)
       窗口滑动 → [2][3][4][5]  ← 可以发送5了
时刻3: 收到ACK(2)
       窗口滑动 → [3][4][5][6]  ← 可以发送6了
```

### 2. **窗口滑动：**
- 收到**确认(ACK)** → 窗口**向前滑动**
- 可以发送**新的数据包**

## 类型：

### **Go-Back-N (回退N步):**
- 出错时，**重传所有**未确认的包
```
发送: 1,2,3,4,5
丢失: 3
重传: 3,4,5 ← 全部重传
```

### **Selective Repeat (选择重传):**
- 出错时，**只重传**出错的包
```
发送: 1,2,3,4,5
丢失: 3
重传: 3 ← 只重传这个
```

## 优点：

✅ **提高效率**（不用等每个ACK）
✅ **充分利用带宽**
✅ 适合**高延迟网络**
✅ **流量控制**

## 参数：

- **窗口大小(W)**: 同时发送的最大包数
- **序列号**: 标识每个数据包
- **定时器**: 超时重传

## 实际应用：

- **TCP协议**（使用滑动窗口）
- HDLC
- 数据链路层协议

## 图示例子：

```
窗口大小 = 3

发送方:
时间1: [发1][发2][发3] ← 窗口满
时间2: 收到ACK1 → [发2][发3][发4] ← 滑动，发4
时间3: 收到ACK2 → [发3][发4][发5] ← 滑动，发5

接收方:
[收1✓][收2✓][收3✓][收4✓]...
 ↓     ↓     ↓     ↓
ACK1  ACK2  ACK3  ACK4
```

## 对比停等协议：

| 停等协议 | 滑动窗口 |
|---------|----------|
| 发1个等ACK | 发N个再等 |
| **效率低** | **效率高** |
| 简单 | 复杂 |
| 窗口=1 | 窗口=N |

## 一句话总结：

允许发送方**连续发送多个数据包**（窗口内），收到确认后窗口**向前滑动**，大大**提高传输效率**的流量控制协议。

# Codificacion 

# 4种编码方式的区别

## 1. **RZ Unipolar (单极性归零码)**

```
数据:  1    0    1    1    0
      ┌─┐      ┌─┐ ┌─┐    
+V    │ │      │ │ │ │    
      │ └──────┘ └─┘ └────
 0 ───┘                    
```

**特点:**
- **1** = 高电平 (+V) → 中间归零
- **0** = 0电平
- ✅ 单极性（只用正电压）
- ✅ 每个位都归零
- ❌ 没有负电压

---

## 2. **RZ Bipolar (双极性归零码 / AMI码)**

```
数据:  1    0    1    1    0
      ┌─┐      ┌─┐          
+V    │ │      │ │          
──────┘ └──────┘ └─────┐    
 0                     │    
-V                     └─┐  
```

**特点:**
- **1** = +V 和 -V **交替**出现（归零）
- **0** = 0电平
- ✅ 双极性（正负电压交替）
- ✅ 每个位都归零
- ✅ **无直流分量**
- ✅ 可检测错误（两个连续同极性的1=错误）

---

## 3. **NRZ Bipolar (双极性非归零码)**

```
数据:  1    0    1    1    0
      ┌────────┐ ┌─────────┐
+V    │        │ │         │
──────┘        └─┘         └──
 0                            
-V                            
```

**特点:**
- **1** = +V （整个位周期）
- **0** = -V （整个位周期）
- ✅ 双极性
- ❌ **不归零**（信号持续整个位）
- ❌ 长串0或1时**无跳变**（难同步）

---

## 4. **Manchester (曼彻斯特编码)**

```
数据:  1    0    1    1    0
      ┌──┐    ┌──┐ ┌──┐    
+V    │  │    │  │ │  │    
      │  └──┐ │  └─┘  └──┐ 
 0 ───┘     └─┘          └─
-V
```

**特点:**
- **1** = 高→低跳变（位中间）
- **0** = 低→高跳变（位中间）
- ✅ **每个位都有跳变**（易同步）
- ✅ 无直流分量
- ❌ 需要**2倍带宽**
- 用于：**以太网（Ethernet）**

---

## 快速对比表

| 编码 | 归零? | 极性 | 每位有跳变? | 带宽 | 同步性 |
|------|------|------|-----------|------|--------|
| **RZ Unipolar** | ✅ 归零 | 单极 | ❌ | 高 | 中等 |
| **RZ Bipolar (AMI)** | ✅ 归零 | 双极 | 部分 | 高 | 好 |
| **NRZ Bipolar** | ❌ 不归零 | 双极 | ❌ | 低 | 差 |
| **Manchester** | - | 双极 | ✅ 必有 | **最高** | **最好** |

---

## 关键区别总结

### **归零 vs 不归零:**
- **RZ (Return to Zero)**: 每个位中间回到0
- **NRZ (Non-Return to Zero)**: 信号持续整个位周期

### **单极 vs 双极:**
- **Unipolar**: 只用0和+V
- **Bipolar**: 用+V和-V

### **Manchester特殊性:**
- 用**跳变方向**表示数据
- 每位**必有跳变** → 最佳时钟同步
- **代价**: 需要2倍带宽

---

## 应用场景

- **RZ Unipolar**: 简单系统、光纤
- **AMI (RZ Bipolar)**: 电话系统、T1/E1
- **NRZ**: 计算机内部、硬盘
- **Manchester**: **以太网、RFID**

# Algoritmo de encaminamiento

# 4种路由协议的区别

## 快速对比表

| 特性 | **RIPv1** | **RIPv2** | **OSPF** | **BGP** |
|------|-----------|-----------|----------|---------|
| **类型** | 距离矢量 | 距离矢量 | 链路状态 | 路径矢量 |
| **用途** | 小型网络 | 小型网络 | 企业内部 | **互联网骨干** |
| **范围** | IGP内部 | IGP内部 | IGP内部 | **EGP外部** |
| **最大跳数** | 15跳 | 15跳 | 无限制 | 无限制 |
| **收敛速度** | 慢 | 慢 | **快** | 慢 |
| **子网掩码** | ❌ 不支持 | ✅ 支持 | ✅ 支持 | ✅ 支持 |
| **认证** | ❌ 无 | ✅ MD5 | ✅ MD5 | ✅ MD5 |
| **度量** | 跳数 | 跳数 | **开销(带宽)** | **AS路径+策略** |
| **更新方式** | 广播 | 组播 | 组播 | TCP连接 |
| **算法** | Bellman-Ford | Bellman-Ford | **Dijkstra** | Path Vector |

---

## 1. **RIPv1 (最老/最简单)**

```
特点：
- 📍 只看跳数（最多15跳，16=不可达）
- ❌ 不支持VLSM（可变长子网掩码）
- ❌ 不支持CIDR
- 广播更新（255.255.255.255）
- 每30秒全表更新
- 有类路由（Classful）
```

**优点:** 简单、配置容易  
**缺点:** 功能少、不安全、浪费带宽  
**适用:** 几乎不用了

---

## 2. **RIPv2 (RIPv1改进版)**

```
改进：
- ✅ 支持VLSM和CIDR
- ✅ 组播更新（224.0.0.9）
- ✅ MD5认证
- ✅ 路由标记
- 仍然15跳限制
- 仍然每30秒更新
```

**优点:** 比v1好、配置简单  
**缺点:** 收敛慢、不适合大网络  
**适用:** 小型网络（<15跳）

---

## 3. **OSPF (企业级标准)**

```
特点：
- 📊 链路状态协议（每个路由器知道全网拓扑）
- 🎯 用带宽计算开销（最短路径）
- ⚡ 收敛快（秒级）
- 🏗️ 支持层次化设计（Area区域）
- 无跳数限制
- 只发送变化更新
- 支持负载均衡
```

**工作原理:**
```
1. 交换链路状态 → 建立拓扑数据库
2. 用Dijkstra算法 → 计算最短路径树
3. 只发送增量更新
```

**优点:**  
✅ 收敛快  
✅ 可扩展（大型网络）  
✅ 无环路  
✅ 节省带宽  

**缺点:**  
❌ 配置复杂  
❌ CPU/内存消耗大  

**适用:** **企业内部网络（最常用）**

---

## 4. **BGP (互联网支柱)**

```
特点：
- 🌐 外部网关协议（连接不同AS自治系统）
- 🛣️ 基于策略路由（不只看距离）
- 📡 TCP端口179（可靠传输）
- 🔄 只发送增量更新
- 支持数万条路由
```

**度量标准（按优先级）:**
1. Weight（本地权重）
2. Local Preference（本地优先级）
3. AS路径长度
4. Origin类型
5. MED（多出口鉴别）
6. ...（还有更多）

**两种BGP:**
- **eBGP**: 不同AS之间
- **iBGP**: 同一AS内部

**优点:**  
✅ 高度可扩展  
✅ 灵活的策略控制  
✅ 支持海量路由  

**缺点:**  
❌ 配置非常复杂  
❌ 收敛慢（分钟级）  

**适用:** **ISP、互联网骨干、大型企业多出口**

---

## 形象比喻

| 协议 | 比喻 |
|------|------|
| **RIPv1** | 🚶 步行问路（数路口） |
| **RIPv2** | 🚶 步行+地图（数路口+门牌） |
| **OSPF** | 🚗 导航GPS（知道全城地图，选最快路线） |
| **BGP** | ✈️ 国际航班路由（考虑政策、成本、协议） |

---

## 实际使用场景

```
小公司（3台路由器）:
  └─ RIPv2 ✓

中型企业（50台路由器）:
  └─ OSPF ✓✓✓

大型企业（多个分支）:
  └─ OSPF（内部）+ BGP（多出口）✓✓

ISP运营商:
  └─ BGP ✓✓✓
  
互联网骨干:
  └─ BGP（全球AS互联）✓✓✓
```

---

## 一句话总结

- **RIPv1/v2**: 简单但**过时**，只适合小网络
- **OSPF**: **企业首选**，快速、智能、可扩展
- **BGP**: **互联网核心**，连接全球网络的"外交协议"

**现实中最常见组合:** OSPF(内部) + BGP(外部连接)


# Modulaciones

# 4种数字调制方式的区别

## 快速对比表

| 调制方式 | 改变什么? | 抗干扰性 | 带宽效率 | 复杂度 | 应用 |
|---------|----------|---------|---------|--------|------|
| **ASK** | 幅度 | ❌ 差 | 低 | 简单 | 光纤 |
| **FSK** | 频率 | ✅ 好 | 低 | 简单 | 调制解调器 |
| **PSK** | 相位 | ✅✅ 很好 | 中 | 中等 | 卫星、WiFi |
| **QAM** | 幅度+相位 | ✅✅ 好 | **最高** | **复杂** | **有线电视、4G/5G** |

---

## 1. **ASK (幅移键控 - Amplitude Shift Keying)**

### 原理: 改变**振幅/幅度**

```
数字信号:  1    0    1    1    0
           
载波信号:  ┌──┐     ┌──┐ ┌──┐    
高幅度(1): │  │     │  │ │  │    
           │  │─────│  └─┘  │────
低幅度(0): └──┘              └    
```

**特点:**
- **1** = 高振幅
- **0** = 低振幅（或0振幅）
- 类似开关灯💡

**优点:** ✅ 简单、成本低  
**缺点:** ❌ 易受噪声干扰（振幅最敏感）  
**应用:** 光纤通信、RFID

---

## 2. **FSK (频移键控 - Frequency Shift Keying)**

### 原理: 改变**频率**

```
数字信号:  1    0    1    1    0

载波信号:  
高频(1): ┌┐┌┐┌┐    ┌┐┌┐ ┌┐┌┐    
         └┘└┘└┘    └┘└┘ └┘└┘    
低频(0):     ┌──┐          ┌──┐
             └──┘          └──┘
```

**特点:**
- **1** = 高频率 (f₁)
- **0** = 低频率 (f₀)
- 像两个不同音调🎵

**优点:**  
✅ 抗噪声能力强  
✅ 不需要精确同步  

**缺点:**  
❌ 带宽效率低（需要两个频率）  

**应用:** 
- 电话调制解调器
- 无线电传输
- 来电显示

---

## 3. **PSK (相移键控 - Phase Shift Keying)**

### 原理: 改变**相位**

```
数字信号:  1    0    1    0

载波信号:  
BPSK:     ┌─┐┌─┐  ┐┌──┌─  ┌─┐┌─  ┐┌──┌─
(2相)     └─┘└─┘  ┘└──└─  └─┘└─  ┘└──└─
          0°相位  180°    0°     180°
          
常见变体:
- BPSK: 2个相位 (0°, 180°) → 1 bit/符号
- QPSK: 4个相位 (0°, 90°, 180°, 270°) → 2 bits/符号
- 8PSK: 8个相位 → 3 bits/符号
```

**特点:**
- **改变载波相位**
- 振幅和频率不变
- 像时钟指针方向🕐

**QPSK示例:**
```
00 = 0°
01 = 90°
11 = 180°
10 = 270°
```

**优点:**  
✅ 抗干扰能力强  
✅ 带宽效率高于FSK  
✅ 功率效率好  

**缺点:**  
❌ 需要相位同步  
❌ 解调复杂  

**应用:**
- **WiFi (802.11)**
- 卫星通信
- 蓝牙

---

## 4. **QAM (正交幅度调制 - Quadrature Amplitude Modulation)**

### 原理: **同时改变幅度和相位**

```
星座图 (16-QAM):

  幅度
   ↑
   │ ●  ●  ●  ●
   │ ●  ●  ●  ●
   │ ●  ●  ●  ●
   │ ●  ●  ●  ●
   └──────────→ 相位
   
每个点 = 4 bits (2⁴=16)

常见类型:
- 4-QAM = 2 bits/符号
- 16-QAM = 4 bits/符号
- 64-QAM = 6 bits/符号
- 256-QAM = 8 bits/符号
- 1024-QAM = 10 bits/符号
```

**特点:**
- **PSK + ASK 的组合**
- 每个符号携带多个bit
- 最复杂但最高效

**优点:**  
✅ **带宽效率最高**  
✅ 高数据传输率  
✅ 频谱利用率好  

**缺点:**  
❌ 实现复杂  
❌ 对噪声敏感（高阶QAM）  
❌ 需要高信噪比  

**应用:**
- **有线电视 (Cable Modem)**
- **4G LTE / 5G**
- **WiFi 6 (802.11ax)**
- **数字电视 (DVB)**
- ADSL宽带

---

## 形象比喻 🎭

| 调制 | 比喻 |
|------|------|
| **ASK** | 💡 开关灯（亮度变化） |
| **FSK** | 🎵 唱高音/低音（频率变化） |
| **PSK** | 🕐 时钟指针方向（相位变化） |
| **QAM** | 🎨 **颜色+亮度**（相位+幅度） |

---

## 性能对比图

```
带宽效率: QAM >>> PSK > FSK ≈ ASK
         (最高)              (最低)

抗干扰性: FSK ≥ PSK > QAM > ASK
         (最好)              (最差)

复杂度:   QAM >>> PSK >> FSK ≈ ASK
         (最复杂)            (最简单)

成本:     ASK < FSK < PSK < QAM
```

---

## 实际应用选择

```
需要简单可靠？
  └─ FSK（调制解调器、遥控器）

需要中等性能？
  └─ PSK（卫星、WiFi基础模式）

需要最高速率？
  └─ QAM（4G/5G、光纤、有线电视）

光纤通信？
  └─ ASK（光强度调制）
```

---

## 发展趋势

```
早期: ASK/FSK（简单）
      ↓
中期: PSK（平衡性能）
      ↓
现代: QAM（高速通信主流）
      ↓
未来: 高阶QAM + MIMO + OFDM
```

---

## 一句话总结

- **ASK**: 改变**亮度**，简单但怕噪声
- **FSK**: 改变**音调**，可靠但效率低
- **PSK**: 改变**方向**，平衡性能
- **QAM**: 改变**方向+亮度**，**最高效但最复杂**（现代通信首选）

**记忆口诀:**  
ASK幅度、FSK频率、PSK相位、**QAM全都要！** 🎯